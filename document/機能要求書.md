[[Fractal ジェネレーター]]
***

# 機能要求書

・このアプリは、Windows11用のデスクトップアプリで、タッチデバイスには未対応です
・プログラム言語は python を使います

## [[1. キャンバス操作]]

- **「キャンバス」タブ**
	メインウィンドウの左側が「キャンバス」タブもしくは「ノード編集」タブで、右側がパラメーターパネルです。
	タブはパラメーターパネル内のボタンで切り替えます。
	フラクタルエディタのメインとなる描画領域は、「キャンバス」タブで表示されます。
	エディタ起動時、または新規ファイル作成時には、最初にこの「キャンバス」タブが表示され、フラクタクルの描画や基本的なキャンバス操作を行います。
	
	複数のフラクタルタイプの複雑な影響度合いを編集する際には、後述の「ノード編集」タブに切り替えて、より高度な編集を行うことができます。
    
- **左ドラッグで画面（描画範囲）を移動**
	「キャンバス」タブの描画上でマウスを左ドラッグすると、見る場所を自由に移動できます。
    
- **ホイールでズーム**
	「キャンバス」タブの描画上でマウスホイールを上スクロールするとズームイン、下スクロールでズームアウトが可能です。
    
- **簡易描画**
	「キャンバス」タブ内の描画は、最終レンダリングの処理以外は常に簡易描画です。
    
- **簡易描画の精度変更**
	高解像度での最終レンダリング（作品描画）前に結果をイメージしやすくします。
	
## [[2. 高解像度レンダリング（作品描画）]]

- **超高解像度出力**
	印刷や展示に適した高解像度の画像を生成し、フラクタルの細部まで美しく表現します。
	
- **パラメータパネル内に「作品描画」ボタンを配置**
	このボタンが押された場合のみ、高解像度でのレンダリングを行います。
	
- **様々なファイル形式でのエクスポート**
	JPEG、PNG、TIFFでの保存が可能です。
	
## [[3. フラクタルタイプとバリエーションを全てプラグイン化]]

- **全てのフラクタルタイプとバリエーションをプラグインで実装**
	フラクタルタイプとバリエーションをプリセットでは実装せず、すべてプラグインとして追加できるようにします。
	
## [[4. 複数のフラクタルタイプを同時に編集]]

- **フラクタルタイプ毎の影響関係を可視化**
	1つの編集データ中で複数のフラクタルタイプを使用でき、各フラクタルタイプに対して影響の関連性を設定することで、複雑なパターンを生成できるようにします。
    
- **影響関係の設定は専用タブで行う**
	フラクタルタイプの全体もしくは一部のパラメータが他のフラクタルタイプにどのように影響するかを設定するために、専用の「ノード編集」タブを表示し、画面分割されたノードエディタでそれぞれの関連性をノード編集できるようにします。
	「ノード編集」タブはメインウィンドウ上部の「キャンバス」タブと並んで配置されます。

## [[5. パラメータパネル]]

パラメータパネルは、メインウィンドウの右側に常に表示されています。

- **全体ビューの縮小表示**
	パラメータパネル内に全体ビューを縮小表示し、その中で描画範囲を矩形表示します。
    
- **詳細なパラメータ調整**
	パラメータパネルでは、各フラクタルタイプに対して詳細な調整が可能です。
	ユーザーがパラメータを細部まで調整可能することで、創作の自由度を高めます。
	編集可能な値は入力フィールドに値または式を表示し、直接編集できます。
	編集された値は、一定時間経過後、またはリターンキーによる確定か、入力フィールドのフォーカスアウトにより確定し、確定後は直ちに図形の再描画（簡易描画）を行います。	
	スライダーでの編集が有効と思われる項目にはスライダーを設置します。
	
- **パラメータの保存と読み込み**
	パラメータセットをファイルとして保存・読み込みできます。
	
## [[6. カラーリング]]

- **カラーリングアルゴリズムの選択**
	異なる色付け手法を選択でき、作品の雰囲気を自在にコントロールできます。
	- 発散しない領域：内部距離推定法、周期性による色分け、ポテンシャル関数法など
	- 発散する領域：反復回数法、連続的ポテンシャル法、軌道トラップ法など

- **グラデーションエディタ**
	独自のグラデーションを作成・編集し、各フラクタルタイプに適用できます。
	作成したグラデーションは保存・読み込みが可能です。
	グラデーションは複数を読み込むことができ、選択を切り替えて結果を確認できます。

- **背景のグラデーション機能**
	- **開始点/複数の中間点/終了点**
		背景に対して複数のポイントを設定し、滑らかな背景のグラデーションを作成できます。

## [[7. 描画モード、フィルター、エフェクト]]

- **描画モード**
	各フラクタルタイプの全体または特定の範囲に対して、乗算、焼き込み、覆い焼き、オーバーレイ、ソフトライト、ハードライト、ビビッドライト、リニアライト、ピンライトなどを適用できます。

- **フィルター**
	各フラクタルタイプの全体または特定の範囲に対して、ノイズ、シャープ化などのフィルターを適用できます。

- **エフェクト**
	各フラクタルタイプの全体または特定の範囲に対して、以下のエフェクトを適用できます。
	- **ドロップシャドウ（光源位置調整可能）**
	    影の方向、距離、ぼかし具合を調整し、立体感や深みを演出できます。
	- **光彩（外側）**
		オブジェクトの外側に柔らかな光を追加し、幻想的な効果を表現できます。
	- **透明度**
		透明度を設定でき、重なり合う色彩の微妙な表現が可能です。

## [[8. 履歴管理]]

- **操作履歴の記録**
	過去の操作を遡り、任意のタイミングで戻れるようにします。

- **アンドゥ/リドゥ機能**
	試行錯誤をサポートし、創作の自由度を高めます。

## [[9. AIによるフラクタル生成（ver.2で実装）]]

- **深層学習によるパターン認識**
	- **GAN (Generative Adversarial Networks)**: 既存のフラクタルセットをトレーニングデータとして使用し、新しいフラクタルパターンを生成できます
	- **オートエンコーダー**: フラクタルの特徴を抽出し、新しい空間で変形させることで、これまで見られなかったパターンを発見できます

- **進化的アルゴリズムの応用**
	- フラクタル生成パラメータを遺伝的アルゴリズムで最適化し、興味深い美的または数学的特性を持つパターンを探索
	- 指標として「複雑さ」「対称性」「新規性」などを設定可能

- **強化学習によるパラメータ空間探索**
	- フラクタル生成の「エージェント」が、パラメータを調整する行動を学習
	- 「新規性」や「数学的に興味深い特性」に基づく報酬関数を設計

- **探索戦略**
	- **多様なフラクタル種類の組み合わせ**: マンデルブロ集合、ジュリア集合、IFS（反復関数系）などの特性を混合
	- **高次元パラメータ空間**: AIはヒューマンが探索できない複雑なパラメータ空間を効率的に探索可能
	- **数理的に新規な性質の自動検出**: トポロジカルな特性や特殊な対称性を持つパターンを自動識別

***
